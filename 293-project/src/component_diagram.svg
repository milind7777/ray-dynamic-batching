<svg viewBox="0 0 1000 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1000" height="800" fill="#ffffff"/>
  
  <!-- Client Layer -->
  <rect x="50" y="30" width="900" height="140" fill="#e3f2fd" rx="5"/>
  <text x="500" y="60" font-size="16" text-anchor="middle" font-weight="bold">Client Layer</text>
  
  <!-- WorkloadGenerator -->
  <rect x="80" y="80" width="250" height="70" fill="#bbdefb" rx="3"/>
  <text x="205" y="100" font-size="12" text-anchor="middle" font-weight="bold">WorkloadGenerator</text>
  <rect x="90" y="110" width="230" height="15" fill="#90caf9" rx="2"/>
  <text x="205" y="122" font-size="10" text-anchor="middle">Pattern-based Load Generation (slope pattern)</text>
  <rect x="90" y="130" width="230" height="15" fill="#90caf9" rx="2"/>
  <text x="205" y="142" font-size="10" text-anchor="middle">Request Rate Control</text>
  
  <!-- TestResultLogger -->
  <rect x="350" y="80" width="250" height="70" fill="#bbdefb" rx="3"/>
  <text x="475" y="100" font-size="12" text-anchor="middle" font-weight="bold">TestResultLogger</text>
  <rect x="360" y="110" width="230" height="15" fill="#90caf9" rx="2"/>
  <text x="475" y="122" font-size="10" text-anchor="middle">JSON Metrics + CSV Changes Logging</text>
  <rect x="360" y="130" width="230" height="15" fill="#90caf9" rx="2"/>
  <text x="475" y="142" font-size="10" text-anchor="middle">Node State Tracking</text>
  
  <!-- Model Registry -->
  <rect x="620" y="80" width="300" height="70" fill="#bbdefb" rx="3"/>
  <text x="770" y="100" font-size="12" text-anchor="middle" font-weight="bold">Model Registry</text>
  <rect x="630" y="110" width="280" height="15" fill="#90caf9" rx="2"/>
  <text x="770" y="122" font-size="10" text-anchor="middle">Pre-trained Models (VIT, ResNet, ShuffleNet, EfficientNet)</text>
  <rect x="630" y="130" width="280" height="15" fill="#90caf9" rx="2"/>
  <text x="770" y="142" font-size="10" text-anchor="middle">Model Configs (SLOs, Base Rates)</text>
  
  <!-- Batch Profiler Layer -->
  <rect x="50" y="190" width="900" height="100" fill="#f3e5f5" rx="5"/>
  <text x="500" y="220" font-size="16" text-anchor="middle" font-weight="bold">Batch Profiler</text>
  
  <!-- CSV Profiles -->
  <rect x="80" y="240" width="400" height="30" fill="#e1bee7" rx="3"/>
  <text x="280" y="260" font-size="12" text-anchor="middle">Model Profiles (Latency, Memory) from CSV</text>
  
  <!-- Scheduler Layer -->
  <rect x="50" y="310" width="900" height="280" fill="#e8f5e9" rx="5"/>
  <text x="500" y="340" font-size="16" text-anchor="middle" font-weight="bold">Scheduler</text>
  
  <!-- Request Queues -->
  <rect x="80" y="360" width="250" height="200" fill="#c8e6c9" rx="3"/>
  <text x="205" y="380" font-size="12" text-anchor="middle" font-weight="bold">Request Queues (Ray)</text>
  <rect x="90" y="390" width="230" height="20" fill="#a5d6a7" rx="2"/>
  <text x="205" y="404" font-size="10" text-anchor="middle">Queue Size Monitoring</text>
  <rect x="90" y="415" width="230" height="20" fill="#a5d6a7" rx="2"/>
  <text x="205" y="429" font-size="10" text-anchor="middle">Batch Request Creation</text>
  <rect x="90" y="440" width="230" height="20" fill="#a5d6a7" rx="2"/>
  <text x="205" y="454" font-size="10" text-anchor="middle">Request Tracking</text>
  <rect x="90" y="465" width="230" height="20" fill="#a5d6a7" rx="2"/>
  <text x="205" y="479" font-size="10" text-anchor="middle">SLO Tracking</text>
  
  <!-- Monitoring System -->
  <rect x="350" y="360" width="250" height="200" fill="#c8e6c9" rx="3"/>
  <text x="475" y="380" font-size="12" text-anchor="middle" font-weight="bold">Monitoring System</text>
  <rect x="360" y="390" width="230" height="20" fill="#a5d6a7" rx="2"/>
  <text x="475" y="404" font-size="10" text-anchor="middle">Request Rate Tracking</text>
  <rect x="360" y="415" width="230" height="20" fill="#a5d6a7" rx="2"/>
  <text x="475" y="429" font-size="10" text-anchor="middle">Metrics Display (Separate Terminal)</text>
  <rect x="360" y="440" width="230" height="20" fill="#a5d6a7" rx="2"/>
  <text x="475" y="454" font-size="10" text-anchor="middle">Real-time Performance Stats</text>
  
  <!-- Scheduler Core -->
  <rect x="620" y="360" width="300" height="200" fill="#c8e6c9" rx="3"/>
  <text x="770" y="380" font-size="12" text-anchor="middle" font-weight="bold">Scheduler Core</text>
  <rect x="630" y="390" width="280" height="20" fill="#a5d6a7" rx="2"/>
  <text x="770" y="404" font-size="10" text-anchor="middle">Squishy Bin Packing Algorithm</text>
  <rect x="630" y="415" width="280" height="20" fill="#a5d6a7" rx="2"/>
  <text x="770" y="429" font-size="10" text-anchor="middle">Node Management + Merging</text>
  <rect x="630" y="440" width="280" height="20" fill="#a5d6a7" rx="2"/>
  <text x="770" y="454" font-size="10" text-anchor="middle">Dynamic Schedule Updates</text>
  <rect x="630" y="465" width="280" height="20" fill="#a5d6a7" rx="2"/>
  <text x="770" y="479" font-size="10" text-anchor="middle">Model Transfer Optimization</text>
  
  <!-- Worker Layer -->
  <rect x="50" y="610" width="900" height="160" fill="#fff3e0" rx="5"/>
  <text x="500" y="640" font-size="16" text-anchor="middle" font-weight="bold">GPU Worker Layer (Ray Actors)</text>
  
  <!-- GPU Workers -->
  <rect x="80" y="660" width="400" height="90" fill="#ffe0b2" rx="3"/>
  <text x="280" y="680" font-size="12" text-anchor="middle" font-weight="bold">GPU Worker 1</text>
  <rect x="90" y="690" width="380" height="20" fill="#ffcc80" rx="2"/>
  <text x="280" y="704" font-size="10" text-anchor="middle">Model Sessions + Duty Cycle Management</text>
  <rect x="90" y="715" width="380" height="20" fill="#ffcc80" rx="2"/>
  <text x="280" y="729" font-size="10" text-anchor="middle">Batch Processing + Model Loading/Unloading</text>
  
  <rect x="500" y="660" width="400" height="90" fill="#ffe0b2" rx="3"/>
  <text x="700" y="680" font-size="12" text-anchor="middle" font-weight="bold">GPU Worker 2</text>
  <rect x="510" y="690" width="380" height="20" fill="#ffcc80" rx="2"/>
  <text x="700" y="704" font-size="10" text-anchor="middle">Model Sessions + Duty Cycle Management</text>
  <rect x="510" y="715" width="380" height="20" fill="#ffcc80" rx="2"/>
  <text x="700" y="729" font-size="10" text-anchor="middle">Batch Processing + Model Loading/Unloading</text>
</svg>